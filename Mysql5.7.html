<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="481"/>

<div>
<span><div><span style="font-size: 19px;"><span style="color: rgb(255, 0, 0);"><b><span style="font-family: 等线;">Centos7下安装Mysql5.7的数据库</span></b></span></span></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">1、添加相应的用户</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon ~]#  useradd -M -s /sbin/nologin mysql</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">2、解压二进制文件</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# tar xf mysql-5.7.17-linux-glibc2.5-x86_64.tar.gz</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">3、准备Mysql数据库的安装目录</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# mv mysql-5.7.17-linux-glibc2.5-x86_64 /usr/local/mysql/</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# mkdir -pv /usr/local/mysql/data</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# chown -R mysql.mysql /usr/local/mysql/</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">4、初始化数据库</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# /usr/local/mysql/bin/mysqld --initialize --user=mysql --datadir=/usr/local/mysql/ --basedir=/usr/local/mysql/</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">注：初始化数据库的时候会提供一个初始密码，初次登陆数据库的时候会使用到这个密码</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon opt]# /usr/local/bin/mysql_ssl_rsa_setup  --datadir=/usr/local/mysql/data/</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">5、准备系统配置文件</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon ~]# cd /usr/local/mysql/support-files/</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# cp my-default.cnf /etc/my.cnf</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><span style="font-size: 16px;"><span style="font-family: 等线;">修改配置文件关键位置如下：</span></span></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">basedir = /usr/local/mysql</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">datadir = /usr/local/mysql/data</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">port = 3306</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">server_id = 123</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">socket = /tmp/mysql.sock</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">6、准备系统服务</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# pwd</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">/usr/local/mysql/support-files</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# cp mysql.server /etc/init.d/mysqld </span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# vim /etc/init.d/mysqld</span></span></b></div><div><img src="CentOS7下安装Mysql 5_files/Image.png" type="image/png"/></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# chmod +x /etc/init.d/mysqld、</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# chkconfig --add mysqld</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon support-files]# chkconfig --list mysqld</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">注意：该输出结果只显示 SysV 服务，并不包含原生 systemd 服务。SysV 配置数据可能被原生 systemd 配置覆盖。</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">      如果您想列出 systemd 服务,请执行 'systemctl list-unit-files'。</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">      欲查看对特定 target 启用的服务请执行</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">      'systemctl list-dependencies [target]'。</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">mysqld             0:关    1:关    2:开    3:开    4:开    5:开    6:关</span></span></b></div><div><span style="color: rgb(54, 101, 238);"><b><span style="font-size: 16px;"><span style="font-family: 等线;">7、启动服务修改密码</span></span></b></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(254, 254, 242); float: none; display: inline !important;"><b>[root@bogon mysql]# bin/mysqld_safe --user=mysql &amp;</b></span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">[root@bogon mysql]# mysql -uroot -p</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Enter password:</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Welcome to the MySQL monitor.  Commands end with ; or \g.</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Your MySQL connection id is 7</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Server version: 5.7.17 MySQL Community Server (GPL)</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);"><br/></span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);"><br/></span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Oracle is a registered trademark of Oracle Corporation and/or its</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">affiliates. Other names may be trademarks of their respective</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">owners.</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);"><br/></span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);"><br/></span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">mysql&gt;</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">mysql&gt; set password=password('admin123');</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">mysql&gt; grant all on *.* to 'root'@'localhost' identified by 'admin123';</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">mysql&gt; flush privileges;</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Query OK, 0 rows affected (0.07 sec)</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">mysql&gt; quit</span></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><span style="background-color: rgb(254, 254, 242);">Bye</span></span></span></b></div><div><span style="color: rgb(54, 101, 238);"><font face="等线" size="4"><span><b>8、设置Mysql数据库开机自启</b></span></font></span></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;">[root@bogon ~]# chkconfig mysqld on</span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><b><span style="font-size: 16px;"><span style="font-family: 等线;"><br/></span></span></b></div><div><br/></div></span>
</div></body></html> 